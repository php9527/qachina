
tunefs -n enable -j enable /dev/adXsYa

export TERM=vt220 in console

# pkgdb -fF

After updating the local copy of the ports tree (I use the portsnap tool on my FreeBSD systems):

# portsnap fetch update

. . . update the portaudit database:

# portaudit -Fda

The -F actually updates the database, and the -d option prints out the creation date of the database. Once that is done, your system is ready to be checked for vulnerabilities. With -a, you get a listing of all known vulnerabilities on your system.

# portupgrade -R xxx

监控温度，当达到一定界限时，中断进程。
#k8temp ---监控CPU温度
......
#pgrep -fl "make install clean" ---找到进程组ID
#pkill -STOP -g 进程组ID ----编译程序暂停，等CPU温度降下来了，再继续
......
#pkill -CONT -g 进程组ID 

重装所有package
pkg_info | awk '{print $1}' > pkg_info.log
pkg_delete -a -f
升级系统后：
pkg_add -r `cat pkg_info.log`

pkg_version -vIL=

portsclean
# portsclean  -C （make clean）  
清理临时的work目录,可以用在以前ports安装而没有清理时候 
# portsclean  -D          
# 删除distfiles中的文件
# portsclean  -DD         
# 删除目前安装的port没有使用的源代码文件

#daily work

用dmesg |grep attached 可以查看哪些设备没有被驱动，再用pciconf -lv看下具体信息。

网络校时
＃ntpdate time.windows.com
 （time服务器地址time.nist.gov 、chime.utoronto.ca 、ntp.pipex.net 、time.windows.com）

安装更新、源代码、Doc文档
#csup -L 2 -h cvsup.freebsdchina.org /usr/share/examples/cvsup/standard-supfile
#csup -L 2 -h cvsup.freebsdchina.org /usr/share/examples/cvsup/doc-sufile

安装更新Ports Collection
#portsnap fetch extract
 （以后更新执行portsnap fetch update就可以了。

给bsd打补丁(自动打补丁只能用于默认内核)
#freebsd-update fetch
#freebsd-update install

freebsd-update -s 'freebsd-updates.mirrors.163.com' fetch
freebsd-update -s 'freebsd-updates.mirrors.163.com' install

改变ports安装软件下载地址
在/etc/make.conf中加入: 
MASTER_SITE_BACKUP?=http://mirrors.163.com/FreeBSD/distfiles/${DIST_SUBDIR}/
MASTER_SITE_OVERRIDE?=${MASTER_SITE_BACKUP}

设置本地化（中文）
登录分类法（管理员级设置）

在/etc/login.conf加入： 
chinese:Chinese Users Account:\
        :charset=UTF-8:\
        :lang=zh_CN.UTF-8:\
        :tc=default:

然后执行： 
＃cap_mkdb /etc/login.conf

然后： 
＃pw user mod 用户名 -L chinese

查看 
＃pw user show 用户名
XX:*:1001:1001:chinese:0:0:用户名:/home/用户名目录:/bin/sh
su －用户名
$ locale
LANG=zh_CN.UTF-8
LC_CTYPE="zh_CN.UTF-8"
LC_COLLATE="zh_CN.UTF-8"
LC_TIME="zh_CN.UTF-8"
LC_NUMERIC="zh_CN.UTF-8"
LC_MONETARY="zh_CN.UTF-8"
LC_MESSAGES="zh_CN.UTF-8"
LC_ALL=

登录分类（用户级设置）

在用户根目录文件.login_conf加入： 
me:\
        :lang=zh_CN.UTF-8:\                     #LANG 语言显示
        :setenv=LC_ALL=zh_CN.UTF-8:\            #指定所有的 Locale
        :setenv=LC_CTYPE=zh_CN.UTF-8:\          #字元定义 (包含字元分类与转换规则)
        :setenv=LC_COLLATE=zh_CN.UTF-8:\        #字母順序与特殊字元比较
        :setenv=LC_TIME=zh_CN.UTF-8:\           #时间格式
        :setenv=LC_NUMERIC=zh_CN.UTF-8:\        #数字格式
        :setenv=LC_MONETARY=zh_CN.UTF-8:\       #货币格式
        :setenv=LC_MESSAGES=zh_CN.UTF-8:\       #信息显示 
        :charset=UTF-8:\                        #
        :xmodifiers="@im=fcitx":                #

加载声卡驱动（我的声卡是板载alc665）
在/boot/loader.conf 加入snd_ich_load=“YES” （注：9.0默认内核已经有了） 
#echo 'snd_ich_load="YES"'>> /boot/loader.conf

安装配置xorg
#cd /usr/ports/x11/xorg && make BATCH=YES install clean

生成xorg.conf.new配置文件并移动到/etc/X11/下 
#Xorg -configure
#mv xorg.conf.new /etc/X11/xorg.conf

在/etc/rc.conf内加入hald_enable=“YES” 和 dbus_enable=“YES” 如果安装的是fvwm则不需要这一步 
#echo 'hald_enable="YES"'>> /etc/rc.conf
#echo 'dbus_enable="YES"'>> /etc/rc.conf

安装文泉驿字库 
#cd /usr/ports/x11-fonts/wqy &&make install clean

在/etc/X11/xorg.conf里面的Section “Files”小节加入： 
FontPath	"/usr/ports/lib/X11/fonts/wqy"
(
cd /usr/local/lib/X11/fonts/TTF
fetch http://雅黑字体存放路径/msyh.ttf
mkfontdir
mkfontscale
fc-cache  -fv
)
安装Linux二进制兼容模式（安装nvidia显卡驱动所必须的）
#kldload linux
#cd /usr/ports/emulators/linux_base-f10 && make BATCH=YES install distclean

 在/etc/rc.conf中增加 linux_enable=“YES” 
#echo 'linux_enable="YES"'>> /etc/rc.conf

 参见http://cnsnap.cn.freebsd.org/doc/zh_CN.GB2312/books/handbook/linuxemu-lbc-install.html 
安装nvidia显卡驱动（我的是7600gs）
#cd /usr/ports/x11/nvidia-driver && make BATCH=YES install clean

 在/boot/loader.conf中加入nvidia_load=“YES” 
#echo 'nvidia_load="YES"'>> /boot/loader.conf

 注意:使用nvidia驱动需要在/etc/rc.conf中加入 linux_enable=YES 
安装nvidia显卡驱动自动配置工具
#cd /usr/ports/x11/nvidia-xconfig/ && make install clean

执行 
#rehash
#nvidia-xconfig --add-argb-glx-visuals
#nvidia-xconfig --composite
#nvidia-xconfig --depth=24

上面三行是为了compiz-fusion所设置的，如果不装compiz-fusion执行nvidia-xconfig就可以了。 (会在/etc/X11下生成新的xorg.conf文件并把旧的xorg.conf备份为org.conf.backup)

Add a user
pw useradd -n username -s /usr/local/bin/bash -m -g initial_groupname -G additional_groupname

Here "-n" means user name, "-m" means create and set up user home dir in /home/username. For a complete list, see
pw useradd help
Add an existing user to a group
pw usermod username -G group1,group2

For further reference, go to
pw useradd help

You need to check if user that you are logging in got 'login class' set to 'czech'.
 This can be set by:# pw usermod your_user -L czech

update the port distinfo file:
make makesum

给网卡配置IP:
# ifconfig msk0 inet 192.168.2.33/24


添加第二个IP:
# ifconfig re0 inet 192.168.2.33/24 add
删除：
# ifconfig re0 inet 192.168.2.33/24 -alias

#sysctl
sysctl -n kern.osrelease kern.ostype
